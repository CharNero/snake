let t=document.createElement("style");t.innerHTML='.map[data-v-ff20bf48]{position:relative;margin:30px auto;width:600px;height:400px;background:#000}.map .row[data-v-ff20bf48]{display:flex;height:20px}.map .row .col[data-v-ff20bf48]{flex:1;width:20px;height:20px;border:1px solid #eee;overflow:hidden}.map .row .col .fruit[data-v-ff20bf48]{width:0;height:0;margin:3px;border:6px solid red;border-radius:2px}.map .row .col .snake[data-v-ff20bf48]{width:0;height:0;margin:3px;border:6px solid #84fdc1;border-radius:2px}.map .btn-start[data-v-ff20bf48]{position:absolute;left:50%;top:50%;width:100px;height:40px;line-height:40px;margin:10px;background:linear-gradient(-45deg,#fbff00,#81ff0b,#12ffb0,#0bdaff);text-align:center;font-size:18px;transition:all .3s;transform:translate(-50%,-50%);cursor:pointer}.map .btn-start[data-v-ff20bf48]::before{position:absolute;left:0;top:0;width:0;height:0;content:"";border-top:0 solid #0bdaff;border-right:0 solid #fbff00}.map .btn-start[data-v-ff20bf48]::after{position:absolute;right:0;bottom:0;width:0;height:0;content:"";border-bottom:0 solid #81ff0b;border-left:0 solid #12ffb0}.map .btn-start[data-v-ff20bf48]:hover{transform:translate(-50%,-50%) skew(-10deg)}.map .btn-start[data-v-ff20bf48]:hover::after,.map .btn-start[data-v-ff20bf48]:hover::before{width:100%;height:100%;border-width:3px}.map .btn-start[data-v-ff20bf48]:hover::before{transition:width .3s,height .3s .3s}.map .btn-start[data-v-ff20bf48]:hover::after{transition:width .3s,height .3s .3s}.map .btn-start[data-v-ff20bf48]:active{background:linear-gradient(-45deg,#fbff00,#81ff0b,#12ffb0,#0bdaff)}',document.head.appendChild(t);import{n as e,r as a,v as r,x as o,d as i,y as f,z as n,p as s,a as d,b as l,o as h,c as u,F as b,j as p,k as c,e as m,w as v,l as x}from"./index.307aab1f.js";var g,y;(y=g||(g={})).up="KeyW",y.down="KeyS",y.left="KeyA",y.right="KeyD";var w=(t,i,f,n)=>{let s=g.left,d=null,l=a(!0),h=e([]);function u(){s=g.left,clearTimeout(d),l.value=!0,h.length=0;const e=Math.floor(Math.random()*(t.width/i-4)),a=Math.floor(Math.random()*(t.height/i-4));for(let t=0;t<4;t++)h[t]={x:e+t,y:a}}function b(e=s,a=!1){if(e===s&&!0===a)return;null!==d&&clearTimeout(d);const r=h[0];if(e===g.up?(h.unshift({x:r.x,y:r.y-1}),s=e):e===g.down?(h.unshift({x:r.x,y:r.y+1}),s=e):e===g.left?(h.unshift({x:r.x-1,y:r.y}),s=e):e===g.right&&(h.unshift({x:r.x+1,y:r.y}),s=e),h[0].x==f.x&&h[0].y===f.y?n():h.pop(),!(h[0].x<0||h[0].x>t.width/i||h[0].y<0||h[0].y>t.height/i))return d=setTimeout((()=>{b()}),300),d;l.value=!0}function p(t){l.value||(g.up===t.code&&s!==g.down?b(g.up,!0):g.down===t.code&&s!==g.up?b(g.down,!0):g.left===t.code&&s!==g.right?b(g.left,!0):g.right===t.code&&s!==g.left&&b(g.right,!0))}return r((()=>{u(),document.addEventListener("keydown",p)})),o((()=>{document.removeEventListener("keydown",p)})),{finished:l,snake:h,move:b,reset:u}},k=i({setup(){const t={width:600,height:400};let r=a(!1);const{fruit:o,updateFruit:i,reset:s}=((t,a)=>{const r=e({x:0,y:0}),o=()=>{r.x=Math.floor(Math.random()*(t.width/a)),r.y=Math.floor(Math.random()*(t.height/a))};return o(),{fruit:r,updateFruit:o,reset:()=>{o()}}})(t,20),{snake:d,finished:l,move:h,reset:u}=w(t,20,o,i);function b(){r.value=!1,l.value=!1,s(),u()}return f(l,(t=>{t&&(r.value=!1,n({title:"再来一次",message:"总分数："+(d.length-4),callback(t,e){"confirm"===t&&(b(),e.close())}}))})),{map:t,size:20,started:r,finished:l,start:function(){r.value=!0,l.value=!1,h()},onemore:b,fruit:o,snake:d,inFruit:function(t,e){return o.x===t&&o.y===e},inSnake:function(t,e){return d.some((a=>a.x==t&&a.y==e))}}}});const M=v("data-v-ff20bf48");s("data-v-ff20bf48");const F={class:"map"},C={key:0,class:"fruit"},K={key:1,class:"snake"},T=x("reset");d();const z=M(((t,e,a,r,o,i)=>{const f=l("el-button");return h(),u("div",F,[(h(!0),u(b,null,p(t.map.height/20,(e=>(h(),u("div",{class:"row",key:e},[(h(!0),u(b,null,p(t.map.width/20,(a=>(h(),u("div",{class:"col",key:a},[t.inFruit(a-1,e-1)?(h(),u("div",C)):c("v-if",!0),t.inSnake(a-1,e-1)?(h(),u("div",K)):c("v-if",!0)])))),128))])))),128)),t.started?c("v-if",!0):(h(),u("div",{key:0,class:"btn-start",onClick:e[1]||(e[1]=(...e)=>t.start&&t.start(...e))},"开始")),m(f,{type:"primary",class:"onemore",onClick:t.onemore},{default:M((()=>[T])),_:1},8,["onClick"])])}));k.render=z,k.__scopeId="data-v-ff20bf48";export default k;
